# 多种登录方式使用指南

本项目现在支持三种登录方式：**匿名登录**、**手机验证码登录**和**邮箱验证码登录**。

## 功能特点

### 1. 匿名登录
- 无需注册，快速体验应用功能
- 自动生成临时用户身份
- 适合快速体验和演示

### 2. 手机验证码登录
- 使用手机号获取验证码
- 支持中国大陆手机号格式验证
- 60秒倒计时防重复发送

### 3. 邮箱验证码登录
- 使用邮箱地址获取验证码
- 支持标准邮箱格式验证
- 60秒倒计时防重复发送

## 页面结构

```
src/pages/login/
├── index.vue           # 登录方式选择页面
├── phone-login.vue     # 手机验证码登录页面
└── email-login.vue     # 邮箱验证码登录页面

src/pages/profile/
└── profile.vue         # 用户信息查看页面
```

## 使用流程

### 主页面入口
1. 在主页点击"选择登录方式"按钮
2. 进入登录方式选择页面

### 匿名登录
1. 在登录方式选择页面点击"匿名登录"
2. 系统自动执行匿名登录
3. 登录成功后跳转到主页

### 手机验证码登录
1. 在登录方式选择页面点击"手机验证码登录"
2. 输入11位手机号
3. 点击"获取验证码"
4. 输入收到的6位验证码
5. 点击"登录"完成登录

### 邮箱验证码登录
1. 在登录方式选择页面点击"邮箱验证码登录"
2. 输入邮箱地址
3. 点击"获取验证码"
4. 输入收到的6位验证码
5. 点击"登录"完成登录

## 核心功能函数

### 云开发配置 (src/utils/cloudbase.ts)

```typescript
// 手机验证码相关
export const getPhoneVerification = async (phoneNumber: string)
export const signInWithPhoneCode = async (params: {...})

// 邮箱验证码相关
export const getEmailVerification = async (email: string)
export const signInWithEmailCode = async (params: {...})

// 匿名登录
export const initCloudBase = async ()

// 用户状态管理
export const logout = async ()
```

## 用户信息查看

在主页点击"查看用户信息"可以查看：
- 用户ID
- 登录类型（匿名/手机号/邮箱）
- 创建时间
- 最后登录时间
- 退出登录功能

## 界面设计特点

- **现代化渐变背景**：采用紫色渐变背景，视觉效果优雅
- **卡片式布局**：白色圆角卡片承载主要内容
- **响应式交互**：按钮状态变化，禁用状态样式
- **倒计时机制**：防止频繁发送验证码
- **加载提示**：操作过程中显示加载状态
- **错误处理**：完善的错误提示和处理机制

## 注意事项

1. **环境配置**：确保在 `src/utils/cloudbase.ts` 中配置了正确的云开发环境ID
2. **验证码发送**：需要在云开发控制台开启短信和邮件服务
3. **类型错误**：当前代码中存在 TypeScript 类型错误，这是因为 CloudBase SDK 的类型定义问题，不影响实际功能运行
4. **退出登录**：匿名登录无法真正退出，只能切换到其他登录方式

## 技术栈

- **前端框架**：Vue 3 + Composition API
- **跨平台**：UniApp（支持小程序、H5、App）
- **云服务**：腾讯云 CloudBase
- **开发语言**：TypeScript
- **样式**：原生 CSS（响应式设计）

## 后续扩展

可以考虑添加的功能：
- 微信登录
- QQ登录
- 账号密码登录
- 生物识别登录（指纹、面容）
- 第三方OAuth登录
